{"version":3,"sources":["../../assets/scripts/menu/base.ts","../../assets/scripts/menu/menu-button.ts","../../assets/scripts/menu/menu-link.ts","../../assets/scripts/menu/parent-menu-icon.ts","../../assets/scripts/menu/sidebar-current-menu-item.ts","../../assets/scripts/menu/submenu.ts","../../assets/scripts/menu/submenu-button.ts","../../assets/scripts/menu.ts"],"names":["Base","_j","_l10n","this","_fx_duration","_submenu_button_class_name","_submenu_button_selector","prototype","toggleSubMenu","button","fx","_this","target","slideToggle","parent","siblings","children","slideUp","html","renderCaret","toggleCaret","next","css","direction","submenu","MenuButton","_super","__extends","run","handleClick","attr","on","event","toggleClass","display","preventDefault","MenuLink","prev","currentTarget","ParentMenuIcon","add","before","SidebarCurrentMenuItem","show","Submenu","hide","SubmenuButton","menus","jQuery","jentilMenuL10n","each","_","menu"],"mappings":"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","file":"menu.min.js","sourcesContent":["/*!\n * Jentil (c) 2017-present GrottoPress\n * License: https://opensource.org/licenses/MIT\n * Home: https://www.grottopress.com/jentil/\n */\n\n/// <reference path='./module.d.ts' />\n\ntype Target = JQuery<EventTarget>\n\nexport abstract class Base\n{\n    protected readonly _fx_duration: number = 200\n    protected readonly _submenu_button_class_name: string = 'js-sub-menu-button'\n    protected readonly _submenu_button_selector: string =\n        `.${this._submenu_button_class_name}`\n\n    constructor(\n        protected readonly _j: JQueryStatic,\n        protected readonly _l10n: JentilMenuL10n\n    ) {\n    }\n\n    abstract run(): void\n\n    protected toggleSubMenu(button: Target, fx = (target: Target): void => {\n        this._j(target).slideToggle(this._fx_duration)\n    }): void {\n        this._j(button).parent().siblings('li').children('ul')\n            .slideUp(this._fx_duration)\n\n        this._j(button).parent().siblings('li').children('button')\n            .html(this.renderCaret('down'))\n\n        this.toggleCaret(button)\n\n        fx(this._j(button).next('ul'))\n    }\n\n    protected toggleCaret(button: Target): void\n    {\n        if ('none' === this._j(button).next('ul').css('display')) {\n            this._j(button).html(this.renderCaret('up'))\n        } else {\n            this._j(button).html(this.renderCaret('down'))\n        }\n    }\n\n    protected renderCaret(direction: 'up' | 'down'): string\n    {\n        return `<span class=\"fas fa-caret-${\n            direction\n        } fa-sm\" aria-hidden=\"true\"></span>\n        <span class=\"screen-reader-text\">${this._l10n.submenu}</span>`\n    }\n}\n","/// <reference path='./module.d.ts' />\n\nimport { Base } from './base'\n\nexport class MenuButton extends Base\n{\n    run(): void\n    {\n        this.handleClick()\n    }\n\n    private handleClick(): void\n    {\n        this._j('.js-main-menu-button').attr('href', '#').on(\n            'click',\n            (event: JQuery.ClickEvent): void => {\n                this._j('.js-main-menu').slideToggle(\n                    this._fx_duration,\n                    (): void => {\n                        this._j('.js-main-menu')\n                            .toggleClass('show hide')\n                            .css({display: ''})\n                    }\n                )\n\n                event.preventDefault()\n            }\n        )\n    }\n}\n","/// <reference path='./module.d.ts' />\n\nimport { Base } from './base'\n\nexport class MenuLink extends Base\n{\n    run(): void\n    {\n        this.handleClick()\n    }\n\n    private handleClick(): void\n    {\n        this._j(this._submenu_button_selector).prev('a').on(\n            'click',\n            (event: JQuery.ClickEvent): void => {\n                if ('#' === this._j(event.currentTarget).attr('href')) {\n                    this.toggleSubMenu(\n                        this._j(event.currentTarget).next('button')\n                    )\n\n                    event.preventDefault()\n                }\n            }\n        )\n    }\n}\n","/// <reference path='./module.d.ts' />\n\nimport { Base } from './base'\n\nexport class ParentMenuIcon extends Base\n{\n    run(): void\n    {\n        this.add()\n    }\n\n    private add(): void\n    {\n        this._j('.menu li > ul').before(\n            `<button class=\"${this._submenu_button_class_name} sub-menu-toggle\">\n                ${this.renderCaret('down')}\n            </button>`\n        )\n    }\n}\n","/// <reference path='./module.d.ts' />\n\nimport { Base } from './base'\n\nexport class SidebarCurrentMenuItem extends Base\n{\n    run(): void\n    {\n        this.show()\n    }\n\n    private show(): void\n    {\n        this._j('.site-sidebar li.current-menu-ancestor > ul')\n            .show()\n            .siblings(this._submenu_button_selector)\n            .html(this.renderCaret('up'))\n    }\n}\n","/// <reference path='./module.d.ts' />\n\nimport { Base } from './base'\n\nexport class Submenu extends Base\n{\n    run(): void\n    {\n        this.hide()\n    }\n\n    private hide(): void\n    {\n        this._j(this._submenu_button_selector).next('ul').hide()\n    }\n}\n","/// <reference path='./module.d.ts' />\n\nimport { Base } from './base'\n\nexport class SubmenuButton extends Base\n{\n    run(): void\n    {\n        this.handleClick()\n    }\n\n    private handleClick(): void\n    {\n        this._j(this._submenu_button_selector).on(\n            'click',\n            (event: JQuery.ClickEvent): void => {\n                this.toggleSubMenu(event.currentTarget)\n\n                event.preventDefault()\n            }\n        )\n    }\n}\n","/// <reference path='./menu/module.d.ts' />\n\nimport { Base } from './menu/base'\n\nimport { MenuButton } from './menu/menu-button'\nimport { MenuLink } from './menu/menu-link'\nimport { ParentMenuIcon } from './menu/parent-menu-icon'\nimport { SidebarCurrentMenuItem } from './menu/sidebar-current-menu-item'\nimport { Submenu } from './menu/submenu'\nimport { SubmenuButton } from './menu/submenu-button'\n\nconst menus = [\n    new ParentMenuIcon(jQuery, jentilMenuL10n),\n    new Submenu(jQuery, jentilMenuL10n),\n    new SidebarCurrentMenuItem(jQuery, jentilMenuL10n),\n    new MenuButton(jQuery, jentilMenuL10n),\n    new MenuLink(jQuery, jentilMenuL10n),\n    new SubmenuButton(jQuery, jentilMenuL10n)\n]\n\njQuery.each(menus, (_, menu: Base): void => menu.run())\n"]}