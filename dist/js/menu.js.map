{"version":3,"file":"/dist/js/menu.js","mappings":";yBAKA,ICJQA,EDIJC,EAAQ,WACR,SAASA,EAAKC,EAAIC,GACdC,KAAKF,GAAKA,EACVE,KAAKD,MAAQA,EACbC,KAAKC,aAAe,IACpBD,KAAKE,2BAA6B,qBAClCF,KAAKG,kBAAoB,8BACzBH,KAAKI,yBAA2B,IAAIC,OAAOL,KAAKE,2BACpD,CAyBA,OAxBAL,EAAKS,UAAUC,cAAgB,SAAUC,GACrC,IAAIC,EAAQT,KAAKF,GAAGU,GAChBE,EAAUD,EAAME,OAAO,MAAMC,SAAS,MACtCC,EAAUJ,EAAMK,KAAK,MACrBC,EAAkBF,EAAQG,KAAK,MACnChB,KAAKiB,aAAaP,EAAQQ,SAAS,MACnClB,KAAKiB,aAAaF,EAAgBI,KAAK,MACvC,IAAIC,EAAS,SAAWP,EAAQQ,IAAI,WAChCC,EAAOF,EAAS,KAAO,OAC3BA,EAASX,EAAMc,SAAS,QAAUd,EAAMe,YAAY,QACpDf,EAAMS,SAASlB,KAAKI,0BACfqB,KAAKzB,KAAK0B,kBAAkBJ,IACjCT,EAAQc,YAAY3B,KAAKC,aAC7B,EACAJ,EAAKS,UAAUW,aAAe,SAAUT,GACpC,IAAIC,EAAQT,KAAKF,GAAGU,GACpBC,EAAMe,YAAY,QAClBf,EAAMS,SAASlB,KAAKI,0BACfqB,KAAKzB,KAAK0B,kBAAkB,SACjCjB,EAAMK,KAAK,MAAMc,QAAQ5B,KAAKC,aAClC,EACAJ,EAAKS,UAAUoB,kBAAoB,SAAUG,GACzC,MAAO,6BAA8BxB,OAAOwB,EAAW,6FAAkGxB,OAAOL,KAAKD,MAAMc,QAAS,UACxL,EACOhB,CACX,CAlCY,GCLRiC,GACIlC,EAAgB,SAAUmC,EAAGC,GAI7B,OAHApC,EAAgBqC,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOC,OAAO3B,UAAUgC,eAAeC,KAAKP,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,GAAI,EAC7FzC,EAAcmC,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIQ,UAAU,uBAAyBC,OAAOT,GAAK,iCAE7D,SAASU,IAAO1C,KAAK2C,YAAcZ,CAAG,CADtCnC,EAAcmC,EAAGC,GAEjBD,EAAEzB,UAAkB,OAAN0B,EAAaC,OAAOW,OAAOZ,IAAMU,EAAGpC,UAAY0B,EAAE1B,UAAW,IAAIoC,EACnF,GAGAG,EAAc,SAAUC,GAExB,SAASD,IACL,OAAkB,OAAXC,GAAmBA,EAAOC,MAAM/C,KAAMgD,YAAchD,IAC/D,CAuBA,OA1BA8B,EAAUe,EAAYC,GAItBD,EAAWvC,UAAU2C,IAAM,WACvBjD,KAAKkD,aACT,EACAL,EAAWvC,UAAU4C,YAAc,WAC/B,IAAIC,EAAQnD,KACZA,KAAKF,GAAG,wBAAwBsD,KAAK,OAAQ,KAAKC,GAAG,SAAS,SAAUC,GACpE,IAAIC,EAAQJ,EAAMrD,GAAG,iBACrBqD,EAAMK,WAAWD,GACjBJ,EAAMM,WAAWF,GACjBD,EAAMI,gBACV,GACJ,EACAb,EAAWvC,UAAUkD,WAAa,SAAUG,GACxC,IAAIrC,EAAOqC,EAAKC,SAAS,QAAU,eAAiB,cACpD5D,KAAKF,GAAG,wBACH2B,KAAK,gBAAiBpB,OAAOiB,EAAM,gCAC5C,EACAuB,EAAWvC,UAAUmD,WAAa,SAAUE,GACxCA,EAAKhC,YAAY3B,KAAKC,cAAc,WAChC0D,EAAKE,YAAY,aAAaxC,IAAI,CAAEyC,QAAS,IACjD,GACJ,EACOjB,CACX,CA5BkB,CA4BhBhD,GC5CEiC,EAAyC,WACzC,IAAIlC,EAAgB,SAAUmC,EAAGC,GAI7B,OAHApC,EAAgBqC,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOC,OAAO3B,UAAUgC,eAAeC,KAAKP,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,GAAI,EAC7FzC,EAAcmC,EAAGC,EAC5B,EACA,OAAO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIQ,UAAU,uBAAyBC,OAAOT,GAAK,iCAE7D,SAASU,IAAO1C,KAAK2C,YAAcZ,CAAG,CADtCnC,EAAcmC,EAAGC,GAEjBD,EAAEzB,UAAkB,OAAN0B,EAAaC,OAAOW,OAAOZ,IAAMU,EAAGpC,UAAY0B,EAAE1B,UAAW,IAAIoC,EACnF,CACJ,CAd6C,GAgBzCqB,EAAY,SAAUjB,GAEtB,SAASiB,IACL,OAAkB,OAAXjB,GAAmBA,EAAOC,MAAM/C,KAAMgD,YAAchD,IAC/D,CAsBA,OAzBA8B,EAAUiC,EAAUjB,GAIpBiB,EAASzD,UAAU2C,IAAM,WACrBjD,KAAKkD,cACLlD,KAAKgE,cACT,EACAD,EAASzD,UAAU0D,aAAe,WAC9B,IAAIb,EAAQnD,KACRiE,EAAQjE,KAAKF,GAAGE,KAAKG,mBACpBgB,KAAK,KACL+C,QAAO,SAAUC,EAAG3D,GAAQ,IAAI4D,EAAI,OAAO,KAA8C,QAAtCA,EAAKjB,EAAMrD,GAAGU,GAAM4C,KAAK,eAA4B,IAAPgB,OAAgB,EAASA,EAAGC,QAAQ,KAAO,IAC7IC,EAASL,EAAMM,QACnBN,EAAMb,KAAK,OAAQ,KACnBkB,EAAOpD,SAASlB,KAAKI,0BAA0BoE,SAC/CF,EAAOG,UAAUR,EAAMnD,KAAK,OAAO4D,KAAK,8BAC5C,EACAX,EAASzD,UAAU4C,YAAc,WAC7B,IAAIC,EAAQnD,KACZA,KAAKF,GAAGE,KAAKG,mBAAmBgB,KAAK,KAAKkC,GAAG,SAAS,SAAUC,GAC5DH,EAAM5C,cAAc+C,EAAMqB,eAC1BrB,EAAMI,gBACV,GACJ,EACOK,CACX,CA3BgB,CA2BdlE,GC3CEiC,EAAyC,WACzC,IAAIlC,EAAgB,SAAUmC,EAAGC,GAI7B,OAHApC,EAAgBqC,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOC,OAAO3B,UAAUgC,eAAeC,KAAKP,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,GAAI,EAC7FzC,EAAcmC,EAAGC,EAC5B,EACA,OAAO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIQ,UAAU,uBAAyBC,OAAOT,GAAK,iCAE7D,SAASU,IAAO1C,KAAK2C,YAAcZ,CAAG,CADtCnC,EAAcmC,EAAGC,GAEjBD,EAAEzB,UAAkB,OAAN0B,EAAaC,OAAOW,OAAOZ,IAAMU,EAAGpC,UAAY0B,EAAE1B,UAAW,IAAIoC,EACnF,CACJ,CAd6C,GAgBzCkC,EAAkB,SAAU9B,GAE5B,SAAS8B,IACL,OAAkB,OAAX9B,GAAmBA,EAAOC,MAAM/C,KAAMgD,YAAchD,IAC/D,CAOA,OAVA8B,EAAU8C,EAAgB9B,GAI1B8B,EAAetE,UAAU2C,IAAM,WAC3BjD,KAAK6E,KACT,EACAD,EAAetE,UAAUuE,IAAM,WAC3B7E,KAAKF,GAAGE,KAAKG,mBAAmBgB,KAAK,KAAK2D,OAAO,gBAAiBzE,OAAOL,KAAKE,2BAA4B,uCAAwCG,OAAOL,KAAK0B,kBAAkB,QAAS,WAC7L,EACOkD,CACX,CAZsB,CAYpB/E,GC5BEiC,EAAyC,WACzC,IAAIlC,EAAgB,SAAUmC,EAAGC,GAI7B,OAHApC,EAAgBqC,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOC,OAAO3B,UAAUgC,eAAeC,KAAKP,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,GAAI,EAC7FzC,EAAcmC,EAAGC,EAC5B,EACA,OAAO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIQ,UAAU,uBAAyBC,OAAOT,GAAK,iCAE7D,SAASU,IAAO1C,KAAK2C,YAAcZ,CAAG,CADtCnC,EAAcmC,EAAGC,GAEjBD,EAAEzB,UAAkB,OAAN0B,EAAaC,OAAOW,OAAOZ,IAAMU,EAAGpC,UAAY0B,EAAE1B,UAAW,IAAIoC,EACnF,CACJ,CAd6C,GAgBzCqC,EAAW,SAAUjC,GAErB,SAASiC,IACL,OAAkB,OAAXjC,GAAmBA,EAAOC,MAAM/C,KAAMgD,YAAchD,IAC/D,CAmBA,OAtBA8B,EAAUiD,EAASjC,GAInBiC,EAAQzE,UAAU2C,IAAM,WACpBjD,KAAKgF,qBACLhF,KAAKiF,MACT,EACAF,EAAQzE,UAAU2E,KAAO,WACrBjF,KAAKF,GAAGE,KAAKG,mBAAmB8E,MACpC,EACAF,EAAQzE,UAAU0E,mBAAqB,WACnC,IAAI7B,EAAQnD,KACZA,KAAKF,GAAGoF,UAAU7B,GAAG,SAAS,SAAUC,GACpC,IAAIA,EAAM6B,qBAAV,CAEA,IAAItE,EAAUsC,EAAMrD,GAAGqD,EAAMhD,mBACzB,IAAMU,EAAQF,OAAO,MAAMK,KAAKsC,EAAM8B,QAAQC,QAElDlC,EAAMlC,aAAaJ,EAAQM,KAAK,KAJtB,CAKd,GACJ,EACO4D,CACX,CAxBe,CAwBblF,GCpCEyF,EAAQ,CACR,IAAIV,EAAeW,OAAQC,gBAC3B,IAAIT,EAAQQ,OAAQC,gBACpB,IAAI3C,EAAW0C,OAAQC,gBACvB,IAAIzB,EAASwB,OAAQC,iBAEzBD,OAAOE,KAAKH,GAAO,SAAUnB,EAAGR,GAAQ,OAAOA,EAAKV,KAAO","sources":["webpack://@grottopress/jentil/./assets/js/menu/base.ts","webpack://@grottopress/jentil/./assets/js/menu/menu-button.ts","webpack://@grottopress/jentil/./assets/js/menu/menu-link.ts","webpack://@grottopress/jentil/./assets/js/menu/parent-menu-icon.ts","webpack://@grottopress/jentil/./assets/js/menu/submenu.ts","webpack://@grottopress/jentil/./assets/js/menu.ts"],"sourcesContent":["/*!\n * Jentil (c) 2017-present GrottoPress\n * License: https://opensource.org/licenses/MIT\n * Home: https://www.grottopress.com/jentil/\n */\nvar Base = (function () {\n    function Base(_j, _l10n) {\n        this._j = _j;\n        this._l10n = _l10n;\n        this._fx_duration = 200;\n        this._submenu_button_class_name = 'js-sub-menu-button';\n        this._submenu_selector = '#primary-menu .menu li > ul';\n        this._submenu_button_selector = \".\".concat(this._submenu_button_class_name);\n    }\n    Base.prototype.toggleSubMenu = function (link) {\n        var jlink = this._j(link);\n        var aunties = jlink.parent('li').siblings('li');\n        var submenu = jlink.next('ul');\n        var submenuChildren = submenu.find('ul');\n        this.closeSubmenu(aunties.children('a'));\n        this.closeSubmenu(submenuChildren.prev('a'));\n        var hidden = 'none' === submenu.css('display');\n        var icon = hidden ? 'up' : 'down';\n        hidden ? jlink.addClass('open') : jlink.removeClass('open');\n        jlink.children(this._submenu_button_selector)\n            .html(this.renderSubmenuIcon(icon));\n        submenu.slideToggle(this._fx_duration);\n    };\n    Base.prototype.closeSubmenu = function (link) {\n        var jlink = this._j(link);\n        jlink.removeClass('open');\n        jlink.children(this._submenu_button_selector)\n            .html(this.renderSubmenuIcon('down'));\n        jlink.next('ul').slideUp(this._fx_duration);\n    };\n    Base.prototype.renderSubmenuIcon = function (direction) {\n        return \"<span class=\\\"fas fa-caret-\".concat(direction, \"\\\" aria-hidden=\\\"true\\\">\\n            </span>\\n            <span class=\\\"screen-reader-text\\\">\").concat(this._l10n.submenu, \"</span>\");\n    };\n    return Base;\n}());\nexport { Base };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Base } from './base';\nvar MenuButton = (function (_super) {\n    __extends(MenuButton, _super);\n    function MenuButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MenuButton.prototype.run = function () {\n        this.handleClick();\n    };\n    MenuButton.prototype.handleClick = function () {\n        var _this = this;\n        this._j('.js-main-menu-button').attr('href', '#').on('click', function (event) {\n            var jmenu = _this._j('.js-main-menu');\n            _this.toggleIcon(jmenu);\n            _this.toggleMenu(jmenu);\n            event.preventDefault();\n        });\n    };\n    MenuButton.prototype.toggleIcon = function (menu) {\n        var icon = menu.hasClass('hide') ? 'fas fa-times' : 'fas fa-bars';\n        this._j('.js-menu-button-icon')\n            .html(\"<span class=\\\"\".concat(icon, \"\\\" aria-hidden=\\\"true\\\"></span>\"));\n    };\n    MenuButton.prototype.toggleMenu = function (menu) {\n        menu.slideToggle(this._fx_duration, function () {\n            menu.toggleClass('show hide').css({ display: '' });\n        });\n    };\n    return MenuButton;\n}(Base));\nexport { MenuButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Base } from './base';\nvar MenuLink = (function (_super) {\n    __extends(MenuLink, _super);\n    function MenuLink() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MenuLink.prototype.run = function () {\n        this.handleClick();\n        this.cloneParents();\n    };\n    MenuLink.prototype.cloneParents = function () {\n        var _this = this;\n        var links = this._j(this._submenu_selector)\n            .prev('a')\n            .filter(function (_, link) { var _a; return 0 !== ((_a = _this._j(link).attr('href')) === null || _a === void 0 ? void 0 : _a.indexOf('#')); });\n        var clones = links.clone();\n        links.attr('href', '#');\n        clones.children(this._submenu_button_selector).remove();\n        clones.prependTo(links.next('ul')).wrap('<li class=\"menu-item\"></li>');\n    };\n    MenuLink.prototype.handleClick = function () {\n        var _this = this;\n        this._j(this._submenu_selector).prev('a').on('click', function (event) {\n            _this.toggleSubMenu(event.currentTarget);\n            event.preventDefault();\n        });\n    };\n    return MenuLink;\n}(Base));\nexport { MenuLink };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Base } from './base';\nvar ParentMenuIcon = (function (_super) {\n    __extends(ParentMenuIcon, _super);\n    function ParentMenuIcon() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ParentMenuIcon.prototype.run = function () {\n        this.add();\n    };\n    ParentMenuIcon.prototype.add = function () {\n        this._j(this._submenu_selector).prev('a').append(\"<span class=\\\"\".concat(this._submenu_button_class_name, \"\\n                sub-menu-toggle\\\">\").concat(this.renderSubmenuIcon('down'), \"</span>\"));\n    };\n    return ParentMenuIcon;\n}(Base));\nexport { ParentMenuIcon };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Base } from './base';\nvar Submenu = (function (_super) {\n    __extends(Submenu, _super);\n    function Submenu() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Submenu.prototype.run = function () {\n        this.handleClickOutside();\n        this.hide();\n    };\n    Submenu.prototype.hide = function () {\n        this._j(this._submenu_selector).hide();\n    };\n    Submenu.prototype.handleClickOutside = function () {\n        var _this = this;\n        this._j(document).on('click', function (event) {\n            if (event.isDefaultPrevented())\n                return;\n            var submenu = _this._j(_this._submenu_selector);\n            if (0 !== submenu.parent('li').find(event.target).length)\n                return;\n            _this.closeSubmenu(submenu.prev('a'));\n        });\n    };\n    return Submenu;\n}(Base));\nexport { Submenu };\n","import { MenuButton } from './menu/menu-button';\nimport { MenuLink } from './menu/menu-link';\nimport { ParentMenuIcon } from './menu/parent-menu-icon';\nimport { Submenu } from './menu/submenu';\nvar menus = [\n    new ParentMenuIcon(jQuery, jentilMenuL10n),\n    new Submenu(jQuery, jentilMenuL10n),\n    new MenuButton(jQuery, jentilMenuL10n),\n    new MenuLink(jQuery, jentilMenuL10n),\n];\njQuery.each(menus, function (_, menu) { return menu.run(); });\n"],"names":["extendStatics","Base","_j","_l10n","this","_fx_duration","_submenu_button_class_name","_submenu_selector","_submenu_button_selector","concat","prototype","toggleSubMenu","link","jlink","aunties","parent","siblings","submenu","next","submenuChildren","find","closeSubmenu","children","prev","hidden","css","icon","addClass","removeClass","html","renderSubmenuIcon","slideToggle","slideUp","direction","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","constructor","create","MenuButton","_super","apply","arguments","run","handleClick","_this","attr","on","event","jmenu","toggleIcon","toggleMenu","preventDefault","menu","hasClass","toggleClass","display","MenuLink","cloneParents","links","filter","_","_a","indexOf","clones","clone","remove","prependTo","wrap","currentTarget","ParentMenuIcon","add","append","Submenu","handleClickOutside","hide","document","isDefaultPrevented","target","length","menus","jQuery","jentilMenuL10n","each"],"sourceRoot":""}